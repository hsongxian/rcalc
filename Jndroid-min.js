Array.prototype.add=function(a){this.push(a)};Array.prototype.size=function(){return this.length};Array.prototype.isEmpty=function(){return(this.length==0)};Array.prototype.contains=function(a){return(this.indexOf(a)!=-1)};Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1};Array.prototype.removeAt=function(a){if(a>-1){this.splice(a,1)}};Array.prototype.remove=function(b){var a=this.indexOf(b);if(a>-1){this.splice(a,1)}};Array.prototype.clear=function(){this.splice(0,this.length)};function Map(){this.keys=new Array();this.data=new Object();this.put=function(a,b){if(this.data[a]==null){this.keys.push(a)}this.data[a]=b};this.get=function(a){return this.data[a]};this.remove=function(a){this.keys.remove(a);this.data[a]=null}}var Utils=new _Utils();function _Utils(){this.toCssColor=function(e){if(typeof e=="string"){return e}else{var d=(e>>24)&255;var h=(e>>16)&255;var f=(e>>8)&255;var c=e&255;return"rgba("+h+","+f+","+c+","+(d/255)+")"}};this.contains=document.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){while(b&&(b=b.parentNode)){if(b===a){return true}}return false};this.getOffset=function(b){if(!b){return null}if(!this.contains(document.documentElement,b)){return{top:0,left:0}}var a=b.getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:Math.round(a.width),height:Math.round(a.height)}}}var MeasureSpec=new _MeasureSpec();function _MeasureSpec(){this.makeMeasureSpec=function(a,b){return(a&~MeasureSpec.MODE_MASK)|(b&MeasureSpec.MODE_MASK)};this.getMode=function(a){return(a&MeasureSpec.MODE_MASK)};this.getSize=function(a){return(a&~MeasureSpec.MODE_MASK)}}Object.defineProperty(MeasureSpec,"MODE_MASK",{value:(3<<30)});Object.defineProperty(MeasureSpec,"UNSPECIFIED",{value:(0<<30)});Object.defineProperty(MeasureSpec,"EXACTLY",{value:(1<<30)});Object.defineProperty(MeasureSpec,"AT_MOST",{value:(2<<30)});function MotionEvent(a){this.getX=function(){var c=a.target;var b=Utils.getOffset(c);return this.getTouches().pageX-b.left};this.getY=function(){var c=a.target;var b=Utils.getOffset(c);return this.getTouches().pageY-b.top};this.getRawX=function(){return this.getTouches().pageX};this.getRawY=function(){return this.getTouches().pageY};this.getTouches=function(){if("ntouchstart" in document.documentElement){if(a.type=="touchstart"||a.type=="touchmove"){return a.touches[0]}else{return a.changedTouches[0]}}else{return a}};this.getAction=function(){if(a.type=="touchstart"||a.type=="mousedown"){return MotionEvent.ACTION_DOWN}else{if(a.type=="touchmove"){return MotionEvent.ACTION_MOVE}else{if(a.type=="touchend"||a.type=="mouseup"){return MotionEvent.ACTION_UP}else{if(a.type=="touchcancel"){return MotionEvent.ACTION_CANCEL}}}}}}Object.defineProperty(MotionEvent,"ACTION_DOWN",{value:0});Object.defineProperty(MotionEvent,"ACTION_UP",{value:1});Object.defineProperty(MotionEvent,"ACTION_MOVE",{value:2});Object.defineProperty(MotionEvent,"ACTION_CANCEL",{value:3});function View(){var a=document.createElement("div");a.style.position="absolute";a.style.boxSizing="border-box";a.addEventListener("touchstart",function(){},false);var t;var h=0;var e=0;var k=0;var y=0;var c=0;var u=0;var r=0;var q=0;var p=0;var m=0;var s=true;var b=true;var l=false;var g=true;var n=null;var w=null;var o="View";var v=null;var d=null;var i,f;var x=false;var j=new Map();this.getTag=function(){return o};this.setTag=function(z){o=z;a.setAttribute("Tag",o)};this.getParent=function(){return t};this.setParent=function(z){t=z};this.getDiv=function(){return a};this.getPaddingLeft=function(){return r};this.getPaddingTop=function(){return q};this.getPaddingRight=function(){return p};this.getPaddingBottom=function(){return m};this.setPadding=function(C,B,A,z){if(B==undefined&&A==undefined&&z==undefined){B=C;B=A;B=z}r=C;q=B;p=A;m=z};this.getLeft=function(){return h};this.getTop=function(){return e};this.getWidth=function(){return k};this.getHeight=function(){return y};this.getMeasuredWidth=function(){return k};this.getMeasuredHeight=function(){return y};this.getX=function(){return h};this.getY=function(){return e};this.measure=function(A,z){c=A;u=z;this.onMeasure(A,z)};this.onMeasure=function(A,z){this.setMeasuredDimension(MeasureSpec.getSize(A),MeasureSpec.getSize(z))};this.setMeasuredDimension=function(A,z){if(k==A&&y==z){return}k=A;y=z;a.style.width=A+"px";a.style.height=z+"px";if(v!=null){v.width=A;v.height=z}};this.layout=function(z,A){h=z;e=A;a.style.left=z+"px";a.style.top=A+"px";this.onLayout(z,A);this.invalidate()};this.onLayout=function(z,A){};this.invalidate=function(){if(s==false){this.draw()}};this.draw=function(){if(v!=null){if(v.getContext){var z=v.getContext("2d");z.width=this.getMeasuredWidth();z.height=this.getMeasuredHeight();this.onDraw(z)}}};this.onDraw=function(z){};this.getWillNotDraw=function(){return s};this.setWillNotDraw=function(z){s=z;if(s==false){v=document.createElement("canvas");a.appendChild(v);a.style.overflow="hidden";this.requestLayout()}else{if(v!=null){a.removeChild(v)}}};this.setBackgroundColor=function(z){a.style.background=Utils.toCssColor(z)};this.setOnClickListener=function(z){if(!l){this.setClickable(true)}n=z};this.setOnLongClickListener=function(z){if(!g){this.setLongClickable(true)}w=z};this.setClickable=function(z){l=z;if(z){addTouchListener(this);if("ontouchstart" in document.documentElement){this.getDiv().addEventListener("touchstart",this.touch,false);this.getDiv().addEventListener("touchmove",this.touch,false);this.getDiv().addEventListener("touchend",this.touch,false);this.getDiv().addEventListener("touchcancel",this.touch,false)}else{this.getDiv().addEventListener("mousedown",this.touch,false);this.getDiv().addEventListener("mouseup",this.touch,false)}this.getDiv().style.pointerEvents="auto"}else{removeTouchListener(this);if("ontouchstart" in document.documentElement){this.getDiv().removeEventListener("touchstart",this.touch,false);this.getDiv().removeEventListener("touchmove",this.touch,false);this.getDiv().removeEventListener("touchend",this.touch,false);this.getDiv().removeEventListener("touchcancel",this.touch,false)}else{this.getDiv().removeEventListener("mousedown",this.touch,false);this.getDiv().removeEventListener("mouseup",this.touch,false)}this.getDiv().style.pointerEvents="none"}};this.setLongClickable=function(z){g=z};this.requestLayout=function(){if(this.getParent()==null){return}if(k!=0&&y!=0){this.measure(c,u);this.layout(h,e)}else{forceReLayout()}};this.requestFocus=function(){};this.onTouchEvent=function(z){};this.getVisibility=function(){return b};this.setVisibility=function(z){b=z;if(b==View.VISIBLE){this.getDiv().style.display="block"}else{this.getDiv().style.display="none"}};this.setAnimation=function(z){z.setView(this)};this.startAnimation=function(z){z.setView(this);z.start()};this.postDelayed=function(B,z){var A=this;var C=setTimeout(function(){B.call(A)},z);j.put(B,C)};this.removeCallbacks=function(z){var A=j.get(z);j.remove(z);if(A!=undefined){clearTimeout(A)}};this.performClick=function(){if(n!=null){n.call(this)}};this.perfermLongClick=function(){if(w!=null){w()}return true};this.checkForLongClick=function(){if(g){x=false;this.postDelayed(this.checkLongPress,500)}};this.checkLongPress=function(){if(this.perfermLongClick()){x=true}};this.touch=function(E){E.stopPropagation();var C=findTouchObject(this);if(l){var D=new MotionEvent(E);C.onTouchEvent(D);switch(D.getAction()){case MotionEvent.ACTION_DOWN:x=false;i=D.getRawX();f=D.getRawY();C.checkForLongClick();break;case MotionEvent.ACTION_MOVE:var F=Utils.getOffset(C.getDiv());var A=D.getRawX();var G=D.getRawY();if(A<F.left||A>(F.left+F.width)||G<F.top||G>(F.top+F.height)){C.removeCallbacks(C.checkLongPress)}break;case MotionEvent.ACTION_UP:if(!x){C.removeCallbacks(C.checkLongPress);var B=Math.abs(i-D.getRawX());var z=Math.abs(f-D.getRawY());if(B<30&&z<30){C.performClick()}}log("up");break;case MotionEvent.ACTION_CANCEL:C.removeCallbacks(C.checkLongPress);log("cancel");break}}};this.setCornerSize=function(B,C,A,z){this.getDiv().style.borderRadius=B+"px "+C+"px "+A+"px "+z+"px"};this.setBorderStyle=function(z){this.getDiv().style.border=z};this.setBorder=function(A,z){this.getDiv().style.border=A+"px solid "+Utils.toCssColor(z)};this.setBorderLeft=function(A,z){this.getDiv().style.borderLeft=A+"px solid "+Utils.toCssColor(z)};this.setBorderTop=function(A,z){this.getDiv().style.borderTop=A+"px solid "+Utils.toCssColor(z)};this.setBorderRight=function(A,z){this.getDiv().style.borderRight=A+"px solid "+Utils.toCssColor(z)};this.setBorderBottom=function(A,z){this.getDiv().style.borderBottom=A+"px solid "+Utils.toCssColor(z)}}Object.defineProperty(View,"VISIBLE",{value:0});Object.defineProperty(View,"INVISIBLE",{value:4});Object.defineProperty(View,"GONE",{value:8});function ViewGroup(){View.apply(this,new Array());var a=new Array();var b="ViewGroup";this.getChildCount=function(){return a.length};this.getChildAt=function(c){return a[c]};this.onMeasure=function(f,d){var e=MeasureSpec.getSize(f);var c=MeasureSpec.getSize(d);this.setMeasuredDimension(e,c)};this.addView=function(c){if(c.getParent()!=null){throwException("IllegalStateException: "+c.getTag()+" 只能拥有一个父节点");return}c.setParent(this);a.add(c);this.getDiv().appendChild(c.getDiv());if(this.getMeasuredWidth()!=0&&this.getMeasuredHeight()!=0){this.requestLayout()}};this.removeView=function(c){if(c!=null&&a.contains(c)){c.setParent(null);a.remove(c);this.getDiv().removeChild(c.getDiv());this.requestLayout()}};this.removeAllViews=function(){for(var c=0;c<a.length;c++){a[c].setParent(null)}a.clear();this.getDiv().innerHTML="";if(this.getParent()!=null){this.getParent().requestLayout()}}}function LinearLayout(){ViewGroup.apply(this,new Array());this.HORIZONTAL=0;this.VERTICAL=1;var a=this.VERTICAL;this.setOrientation=function(b){a=b;this.requestLayout()};this.onMeasure=function(m,b){var c=MeasureSpec.getSize(m);var k=MeasureSpec.getSize(b);if(a==this.VERTICAL){var l=c-this.getPaddingLeft()-this.getPaddingRight();var e=k-this.getPaddingTop()-this.getPaddingBottom();var g=this.getPaddingTop()+this.getPaddingBottom();for(var f=0;f<this.getChildCount();f++){var d=this.getChildAt(f);d.measure(MeasureSpec.makeMeasureSpec(l,MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(e,MeasureSpec.EXACTLY));g+=d.getMeasuredHeight()}this.setMeasuredDimension(c,g)}else{var g=this.getPaddingTop()+this.getPaddingBottom();var j=this.getPaddingLeft()+this.getPaddingRight();for(var f=0;f<this.getChildCount();f++){var d=this.getChildAt(f);d.measure(m,b);j+=d.getMeasuredWidth()}if(this.getChildCount()>0){g+=this.getChildAt(0).getMeasuredHeight()}this.setMeasuredDimension(j,g)}};this.onLayout=function(c,g){var b=this.getPaddingLeft();var f=this.getPaddingTop();if(a==this.VERTICAL){for(var d=0;d<this.getChildCount();d++){var e=this.getChildAt(d);e.layout(b,f);f+=e.getMeasuredHeight()}}else{for(var d=0;d<this.getChildCount();d++){var e=this.getChildAt(d);e.layout(b,f);b+=e.getMeasuredWidth()}}}}function FrameLayout(){ViewGroup.apply(this,new Array());this.onMeasure=function(e,b){var c=e-this.getPaddingLeft()-this.getPaddingRight();var a=b-this.getPaddingTop()-this.getPaddingBottom();for(var d=0;d<this.getChildCount();d++){var f=this.getChildAt(d);f.measure(c,a)}this.setMeasuredDimension(e,b)};this.onLayout=function(b,f){var a=this.getPaddingLeft();var e=this.getPaddingTop();for(var c=0;c<this.getChildCount();c++){var d=this.getChildAt(c);d.layout(a,e)}}}function ScrollView(){ViewGroup.apply(this,new Array());this.getDiv().style.overflow="auto";this.onMeasure=function(e,b){var d=MeasureSpec.getSize(e);var a=MeasureSpec.getSize(b);if(this.getChildCount()>0){var f=this.getChildAt(0);var c=d-this.getPaddingLeft()-this.getPaddingRight();f.measure(c,b)}this.setMeasuredDimension(d,a)};this.onLayout=function(b,e){var a=this.getPaddingLeft();var d=this.getPaddingTop();if(this.getChildCount()>0){var c=this.getChildAt(0);c.layout(a,d)}}}function Button(){ViewGroup.apply(this,new Array());this.setWillNotDraw(false);this.setBackgroundColor("#cccccc");this.getDiv().style.textAlign="center";addTouchListener(this);this.registerTouchEvent=function(){this.getDiv().addEventListener("touchstart",this.touchStart,false);this.getDiv().addEventListener("touchend",this.touchEnd,false);this.getDiv().addEventListener("touchcancel",this.touchCancel,false)};this.registerTouchEvent();this.touchStart=function(a){this.style.background="#999999"};this.touchEnd=function(a){this.style.background="#cccccc"};this.touchCancel=function(a){this.style.background="#cccccc"};this.setText=function(a){var b=document.createElement("div");b.style.width="100%";b.style.lineHeight="36px";b.style.position="absolute";b.style.textAlign="center";b.style.left=0;b.style.top=0;b.innerHTML=a;this.getDiv().appendChild(b)};this.onMeasure=function(b,a){this.setMeasuredDimension(120,36)};this.onDraw=function(a){}}function ImageView(){ViewGroup.apply(this,new Array());var b=null;var a=null;this.getDiv().style.display="table-cell";this.getDiv().style.textAlign="center";this.getDiv().style.verticalAlign="middle";this.setImgSrc=function(c){b=c;a=document.createElement("img");a.src=c;a.style.verticalAlign="middle";a.setAttribute("alt"," ");this.getDiv().appendChild(a)};this.setImgWidth=function(c){a.style.width=c+"px"};this.setImgHeight=function(c){a.style.height=c+"px"};this.onMeasure=function(d,c){this.getDiv().style.lineHeight=c+"px";this.setMeasuredDimension(d,c)}}function TextView(){ViewGroup.apply(this,new Array());var d=0;var c=12;var b=false;var a=document.createElement("div");a.style.overflow="auto";a.style.whiteSpace="normal";this.getDiv().appendChild(a);this.getText=function(){return a.innerHTML};this.setText=function(e){a.innerHTML=e;this.requestLayout();this.getDiv().scrollTop="100px"};this.setTextColor=function(e){a.style.color=Utils.toCssColor(e)};this.setTextSize=function(e){c=e;a.style.fontSize=e+"px"};this.setLineHeight=function(e){};this.setSingleLine=function(e){b=e;if(b){a.style.whiteSpace="nowrap"}else{a.style.whiteSpace="normal"}this.requestLayout()};this.onMeasure=function(i,g){var h=MeasureSpec.getSize(i);var f=MeasureSpec.getSize(g);var k=MeasureSpec.getMode(g);a.style.width=(h-this.getPaddingLeft()-this.getPaddingRight())+"px";a.style.height="100%";a.style.left=this.getPaddingLeft()+"px";var j=document.createElement("div");j.style.width=a.style.width;j.style.height="100%";j.style.lineHeight=a.style.lineHeight;j.style.fontSize=a.style.fontSize;j.style.whiteSpace=a.style.whiteSpace;j.innerHTML=a.innerHTML;mHideDiv.appendChild(j);if(j.clientHeight!=0){var e=j.clientHeight;if(k==MeasureSpec.UNSPECIFIED){f=e}else{if(k!=MeasureSpec.EXACTLY&&f<e){f=e}else{if(f>e){a.style.clientHeight=e+"px";a.style.height="auto";a.style.position="absolute";if(d&Gravity.CENTER_VERTICAL){a.style.top=(f-e)/2+"px"}else{if(d&Gravity.BOTTOM){a.style.top=(f-e)+"px"}else{a.style.top=0+"px"}}}}}}mHideDiv.removeChild(j);mHideDiv.style.width="auto";mHideDiv.style.height="auto";this.setMeasuredDimension(h,f)};this.setGravity=function(e){d=e;if(e&Gravity.CENTER_HORIZONTAL){this.getDiv().style.textAlign="center"}else{if(e&Gravity.RIGHT){this.getDiv().style.textAlign="right"}else{this.getDiv().style.textAlign="left"}}}}function EditText(){ViewGroup.apply(this,new Array());var b="EditText"+(new Date()).getTime();var a;this.addInput=function(){this.getDiv().innerHTML="";a=document.createElement("input");a.type="text";a.style.position="absolute";a.style.background="none";a.style.border="0";a.style.outline="none";a.style.boxSizing="border-box";this.getDiv().appendChild(a)};this.addInput();this.addTextArea=function(){this.getDiv().innerHTML="";a=document.createElement("textarea");a.type="text";a.style.boxSizing="border-box";a.style.position="absolute";a.style.background="none";a.style.border="0";a.style.outline="none";a.style.boxSizing="border-box";this.getDiv().appendChild(a)};this.setSingleLine=function(c){if(c){this.addInput()}else{this.addTextArea()}};this.setSelection=function(d,c){a.selectionStart=d;if(c==undefined){a.selectionEnd=d}else{a.selectionEnd=c}};this.getSelectionStart=function(){return a.selectionStart};this.getSelectionEnd=function(){return a.selectionEnd};this.setTextChangedListener=function(c){a.oninput=c};this.getText=function(){return a.value};this.setText=function(c){a.value=c};this.setTextSize=function(c){a.style.fontSize=c+"px"};this.setTextColor=function(c){a.style.color=Utils.toCssColor(c)};this.setHintText=function(c){a.placeholder=c};this.setHintColor=function(c){var d=document.createElement("style");d.innerHTML="."+b+"::-webkit-input-placeholder{ color:"+Utils.toCssColor(c)+"}";document.head.appendChild(d);a.className+=b+" "};this.requestFocus=function(){a.focus()};this.onMeasure=function(h,d){var f=MeasureSpec.getSize(h);var c=MeasureSpec.getSize(d);var e=f-this.getPaddingLeft()-this.getPaddingRight();var g=c-this.getPaddingTop()-this.getPaddingBottom();a.style.width=e+"px";a.style.height=g+"px";this.setMeasuredDimension(f,c)};this.onLayout=function(c,d){a.style.top=this.getPaddingTop()+"px";a.style.left=this.getPaddingLeft()+"px"}}function WebView(){ViewGroup.apply(this,new Array());this.setBackgroundColor("#ffffff");var a=document.createElement("iframe");a.style.border="none";this.getDiv().appendChild(a);this.setSrc=function(b){a.src=b};this.getFrame=function(){return a};this.onMeasure=function(c,b){a.style.width=c+"px";a.style.height=b+"px";this.setMeasuredDimension(c,b)}}function Animation(){var f;var c=0;var h=0;var j=null;var d=0;var a="backwards";var g=Interpolator.LINEAR;var i;var e;var b;this.getStartState=function(){};this.getEndState=function(){};this.getTransition=function(){};this.setAnimationEndListener=function(k){i=k};this.getEndListener=function(){return i};this.getFillMode=function(){return a};this.setFillAfter=function(k){if(k){a="forwards"}};this.getDuration=function(){return c};this.setDuration=function(k){c=k};this.getView=function(){return f};this.setView=function(k){f=k};this.getStartTime=function(){return h};this.start=function(){};this.clearInterval=function(){clearInterval(j)};this.onTransform=function(k){};this.setStartOffset=function(k){d=k};this.getStartOffset=function(){return d};this.setInterpolator=function(k){g=k};this.getInterpolator=function(){return g}}function TranslateAnimation(e,d,c,b){Animation.apply(this,new Array());var a=this;this.getTag=function(){return"TranslateAnimation"};this.getStartState=function(){return"translate3d("+e+"px, "+c+"px, 0)"};this.getEndState=function(){return"translate3d("+d+"px, "+b+"px, 0)"};this.getTransition=function(){return"-webkit-transform "+a.getDuration()+"ms "+a.getInterpolator()};this.start=function(){if(this.getStartOffset()==0){this.startInner()}else{setTimeout(function(){a.startInner()},this.getStartOffset())}setTimeout(this.getEndListener(),this.getDuration()+this.getStartOffset()+1)};this.startInner=function(){a.getView().getDiv().style.webkitTransform=a.getStartState();setTimeout(function(){a.getView().getDiv().style.webkitTransition=a.getTransition();a.getView().getDiv().style.webkitTransform=a.getEndState()},1)}}function AlphaAnimation(c,a){Animation.apply(this,new Array());var b=this;this.getTag=function(){return"AlphaAnimation"};this.getStartState=function(){return c};this.getEndState=function(){return a};this.getTransition=function(){return"opacity "+b.getDuration()+"ms "+b.getInterpolator()};this.start=function(){setTimeout(function(){b.getView().getDiv().style.opacity=b.getStartState();setTimeout(function(){b.getView().getDiv().style.webkitTransition=b.getTransition();b.getView().getDiv().style.opacity=b.getEndState()},1)},this.getStartOffset());setTimeout(this.getEndListener(),this.getDuration()+this.getStartOffset()+1)}}function RotateAnimation(a,c){Animation.apply(this,new Array());var b=this;this.getTag=function(){return"RotateAnimation"};this.getStartState=function(){return"rotate("+a+"deg)"};this.getEndState=function(){return"rotate("+c+"deg)"};this.getTransition=function(){return"-webkit-transform "+b.getDuration()+"ms "+b.getInterpolator()};this.start=function(){setTimeout(function(){b.getView().getDiv().style.webkitTransform=b.getStartState();setTimeout(function(){b.getView().getDiv().style.webkitTransition=b.getTransition();b.getView().getDiv().style.webkitTransform=b.getEndState()},1)},this.getStartOffset());setTimeout(this.getEndListener(),this.getDuration()+this.getStartOffset()+1)}}function ScaleAnimation(a,b){Animation.apply(this,new Array());var c=this;this.getTag=function(){return"ScaleAnimation"};this.getStartState=function(){return"scale("+a+")"};this.getEndState=function(){return"scale("+b+")"};this.getTransition=function(){return"all "+c.getDuration()+"ms "+c.getInterpolator()};this.start=function(){setTimeout(function(){c.getView().getDiv().style.webkitTransform=c.getStartState();setTimeout(function(){c.getView().getDiv().style.webkitTransition=c.getTransition();c.getView().getDiv().style.webkitTransform=c.getEndState()},1)},this.getStartOffset());setTimeout(this.getEndListener(),this.getDuration()+this.getStartOffset()+1)}}function DialogButton(){ViewGroup.apply(this,new Array());var b=this;var a=new TextView();a.setTextSize(15);a.setTextColor("#333333");a.setGravity(Gravity.CENTER);this.addView(a);this.setBackgroundColor("#fafafa");this.setText=function(c){a.setText(c)};this.onMeasure=function(d,c){a.measure(d,c);this.setMeasuredDimension(d,c)};this.onLayout=function(d,f){var c=0;var e=0;a.layout(c,e)};this.touchStart=function(c){b.setBackgroundColor("#efefef")};this.getDiv().addEventListener("touchstart",this.touchStart,false);this.touchEnd=function(c){b.setBackgroundColor("#fafafa")};this.getDiv().addEventListener("touchend",this.touchEnd,false);this.touchCancel=function(c){b.setBackgroundColor("#fafafa")};this.getDiv().addEventListener("touchcancel",this.touchCancel,false)}function Dialog(){this.DIALOG_WIDTH=296;this.TITLE_HEIGHT=72;this.BUTTON_HEIGHT=52;this.CONTENT_PADDING_X=20;this.MSG_PADDING_BOTTOM=28;this.CORNER_SIZE=3;this.LINE_WIDTH=1;var b=this;var a=false;ViewGroup.apply(this,new Array());var c=new TextView();c.setGravity(Gravity.CENTER);c.setTextSize(17);c.setTextColor("#191919");this.addView(c);var d=new TextView();d.setTextSize(14);d.setLineHeight(20);d.setTextColor("#666666");this.addView(d);mOkButton=new DialogButton();mOkButton.setText("ok");mOkButton.setCornerSize(0,0,this.CORNER_SIZE,0);this.addView(mOkButton);this.setWillNotDraw(false);this.setBackgroundColor("#f5f5f5");this.setCornerSize(this.CORNER_SIZE,this.CORNER_SIZE,this.CORNER_SIZE,this.CORNER_SIZE);this.setTitle=function(e){c.setText(e)};this.setMessage=function(e){d.setText(e)};this.getMsgView=function(){return d};this.getPositiveButton=function(){return mOkButton};this.setPositiveButton=function(f,e){mOkButton.setText(f);mOkButton.setOnClickListener(e)};this.setNegativeButton=function(f,e){a=true;mCancelButton=new DialogButton();mCancelButton.setText(f);mCancelButton.setOnClickListener(e);mCancelButton.setText("cancel");mCancelButton.setCornerSize(0,0,0,this.CORNER_SIZE);this.addView(mCancelButton)};this.onMeasure=function(i,g){c.measure(this.DIALOG_WIDTH,MeasureSpec.makeMeasureSpec(this.TITLE_HEIGHT,MeasureSpec.EXACTLY));var f=this.DIALOG_WIDTH-this.CONTENT_PADDING_X*2;d.measure(f,0);if(a){var h=(this.DIALOG_WIDTH-this.LINE_WIDTH)/2;mOkButton.measure(h,this.BUTTON_HEIGHT);mCancelButton.measure(h,this.BUTTON_HEIGHT)}else{mOkButton.measure(this.DIALOG_WIDTH,this.BUTTON_HEIGHT)}var e=this.TITLE_HEIGHT+d.getMeasuredHeight()+this.MSG_PADDING_BOTTOM+this.BUTTON_HEIGHT;this.setMeasuredDimension(this.DIALOG_WIDTH,e)};this.onLayout=function(f,h){var e=0;var g=0;c.layout(e,g);e=this.CONTENT_PADDING_X;g+=c.getMeasuredHeight();d.layout(e,g);if(a){e=0;g+=d.getMeasuredHeight()+this.MSG_PADDING_BOTTOM;mCancelButton.layout(e,g);e+=mCancelButton.getMeasuredWidth()+this.LINE_WIDTH;mOkButton.layout(e,g)}else{e=0;g+=d.getMeasuredHeight()+this.MSG_PADDING_BOTTOM;mOkButton.layout(e,g)}};this.onDraw=function(g){var h=this.getMeasuredWidth();var f=this.getMeasuredHeight();var i=f-this.BUTTON_HEIGHT;g.strokeStyle="rgb(234,234,234)";g.moveTo(0,i);g.lineTo(h,i);g.stroke();if(a){var e=mCancelButton.getMeasuredWidth();g.moveTo(e,i);g.lineTo(e,f);g.stroke()}};this.show=function(){showDialog(this)};this.dismiss=function(){dismissDialog(this)}}function WaitingDialog(){Dialog.apply(this,new Array());this.UI_WIDTH=160;this.UI_HEIGHT=100;this.ICON_WIDTH=60;this.setWillNotDraw(true);this.setBackgroundColor(0);this.removeView(this.getPositiveButton());var c=new ImageView();this.addView(c);var b=new RotateAnimation(0,7200);b.setDuration(10000);c.setAnimation(b);b.start();var a=this.getMsgView();a.setGravity(Gravity.LEFT|Gravity.CENTER_VERTICAL);a.setTextColor(4294967295);this.setIconSrc=function(d){c.setImgSrc(d)};this.onMeasure=function(e,d){c.measure(this.ICON_WIDTH,this.UI_HEIGHT);a.measure(this.UI_WIDTH-this.ICON_WIDTH,MeasureSpec.makeMeasureSpec(this.UI_HEIGHT,MeasureSpec.EXACTLY));this.setMeasuredDimension(this.UI_WIDTH,this.UI_HEIGHT)};this.onLayout=function(e,g){var d=0;var f=0;c.layout(d,f);d+=this.ICON_WIDTH;a.layout(d,f)};this.show=function(){showDialogWithoutAnim(this)}}function DialogLayout(){ViewGroup.apply(this,new Array());this.setBackgroundColor(1712920857);this.onMeasure=function(d,b){var c=MeasureSpec.getSize(d);var a=MeasureSpec.getSize(b);if(this.getChildCount()!=0){var e=this.getChildAt(0);e.measure(d,b)}this.setMeasuredDimension(c,a)};this.onLayout=function(b,e){if(this.getChildCount()==0){return}var d=this.getChildAt(0);var a=(this.getMeasuredWidth()-d.getMeasuredWidth())/2;var c=(this.getMeasuredHeight()-d.getMeasuredHeight())/2;d.layout(a,c)}}function Interpolator(){}Object.defineProperty(Interpolator,"LINEAR",{value:"linear"});Object.defineProperty(Interpolator,"EASE",{value:"ease"});Object.defineProperty(Interpolator,"EASE_IN",{value:"ease-in"});Object.defineProperty(Interpolator,"EASE_OUT",{value:"ease-out"});Object.defineProperty(Interpolator,"EASE_IN_OUT",{value:"ease-in-out"});function Gravity(){}Object.defineProperty(Gravity,"TOP",{value:1});Object.defineProperty(Gravity,"CENTER_VERTICAL",{value:2});Object.defineProperty(Gravity,"BOTTOM",{value:4});Object.defineProperty(Gravity,"LEFT",{value:8});Object.defineProperty(Gravity,"CENTER_HORIZONTAL",{value:16});Object.defineProperty(Gravity,"RIGHT",{value:32});Object.defineProperty(Gravity,"CENTER",{value:18});CanvasRenderingContext2D.prototype.roundRect=function(a,e,b,c,d){if(b<2*d){d=b/2}if(c<2*d){d=c/2}this.beginPath();this.moveTo(a+d,e);this.arcTo(a+b,e,a+b,e+c,d);this.arcTo(a+b,e+c,a,e+c,d);this.arcTo(a,e+c,a,e,d);this.arcTo(a,e,a+b,e,d);this.closePath();return this};var mDecorView=null;var mRootView=null;var mDialogLayout=new DialogLayout();var mHideDiv=null;var mTopMargin=0;var meta=document.createElement("meta");meta.name="viewport";meta.content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no";document.head.appendChild(meta);function setContentView(a){addOrientationListener(function(){onOrientationChanged()});mHideDiv=document.createElement("div");mHideDiv.style.height="100%";mHideDiv.style.width="100%";document.body.innerHTML="";document.body.style.PADDING="0";document.body.style.margin="0";document.body.appendChild(mHideDiv);mDecorView=new FrameLayout();mDecorView.setTag("decorview");mRootView=a;mRootView.setTag("rootview");mDecorView.addView(mRootView);mDecorView.addView(mDialogLayout);mDialogLayout.setVisibility(View.GONE);mDialogLayout.setTag("dialoglayout");document.body.appendChild(mDecorView.getDiv());document.body.style.overflow="hidden";forceReLayout();var b=document.createElement("style");b.innerHTML="*{-webkit-user-select:none;} ::-webkit-scrollbar {width: 0px;} input{outline:none}";document.head.appendChild(b)}function showDialogWithoutAnim(a){mDialogLayout.addView(a);mDialogLayout.setVisibility(View.VISIBLE)}function showDialog(a){mDialogLayout.addView(a);mDialogLayout.setVisibility(View.VISIBLE);var c=(mDialogLayout.getMeasuredHeight()-a.getMeasuredHeight())/2;var b=new TranslateAnimation(0,0,(mDialogLayout.getMeasuredHeight()-c-a.getMeasuredHeight()),0);b.setFillAfter(true);b.setDuration(200);a.setAnimation(b);b.start()}function dismissDialog(){mDialogLayout.removeAllViews();mDialogLayout.setVisibility(View.GONE)}function getRootView(){return mRootView}function forceReLayout(){if(mDecorView==null||mDecorView==undefined){console.log("gyy: mDecorView is null");return}mDecorView.measure(window.innerWidth,window.innerHeight);mDecorView.layout(0,0)}function onOrientationChanged(){forceReLayout()}var supportsOrientationChange="onorientationchange" in window,orientationEvent=supportsOrientationChange?"orientationchange":"resize";function addOrientationListener(a){window.addEventListener("resize",a)}function throwException(a){alert(a)}var mTouchListerners=new Array();function addTouchListener(a){mTouchListerners.push(a)}function removeTouchListener(a){mTouchListerners.remove(a)}function findTouchObject(a){for(var b=0;b<mTouchListerners.length;b++){if(mTouchListerners[b].getDiv()==a){return mTouchListerners[b]}}return null}function log(a){console.log(a)};